<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Briefly AI | Voice-to-Action Assistant</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="background"></div>
  <div class="overlay"></div>

  <main>
    <section class="welcome">
      <h1>Briefly <span class="accent">AI</span></h1>
      <p class="subtitle">Convierte tus reuniones y notas de voz en actas de reuni√≥n profesionales con IA.</p>
      <div class="actions">
        <button class="btn primary" id="btn-empezar" type="button" onclick="abrirInicio()">
          üé§ Iniciar Grabaci√≥n
        </button>
        <button class="btn secondary" onclick="abrirRecuerdos()">
          üìÇ Historial de Briefings
        </button>
      </div>
    </section>

    <section class="como-funciona" id="como-funciona">
      <h2>Productividad sin esfuerzo</h2>
      <div class="pasos">
        <div class="paso">
          <div class="icono">üéôÔ∏è</div>
          <h3>Graba</h3>
          <p>Captura el audio de tus reuniones o ideas al vuelo.</p>
        </div>
        <div class="paso">
          <div class="icono">‚ö°</div>
          <h3>Procesa</h3>
          <p>AWS Bedrock (Claude 3) analiza y resume los puntos clave.</p>
        </div>
        <div class="paso">
          <div class="icono">üìã</div>
          <h3>Ejecuta</h3>
          <p>Obt√©n Action Items, responsables y fechas de entrega.</p>
        </div>
      </div>
    </section>
  </main>

  <div class="start-overlay hidden-by-default" id="startOverlay">
    <div class="start-card">
      <h2>Contexto de Grabaci√≥n</h2>
      <p class="start-text">Selecciona el tipo de sesi√≥n para optimizar el an√°lisis de la IA.</p>
      <div class="start-actions">
        <button class="start-btn primary" type="button" onclick="abrirPregunta()">
            Sesi√≥n de Briefing
        </button>
        <button class="start-btn secondary" type="button" onclick="iniciarHablarLibre()">
            Reuni√≥n Libre
        </button>
      </div>
      <button class="start-close" type="button" onclick="cerrarInicio()">Cancelar</button>
    </div>
  </div>

  <div class="question-overlay hidden-by-default" id="questionOverlay">
    <div class="question-card">
      <p class="step-label">Contexto sugerido</p>
      <h2 id="pregunta-texto">¬øCu√°les son los objetivos principales?</h2>
      <p class="hint">Habla con naturalidad. La IA se encargar√° de estructurar el acta.</p>
      <div class="question-actions">
        <button class="btn primary" type="button" onclick="empezarGrabacionDesdePregunta()">
          Empezar Grabaci√≥n
        </button>
        <button class="btn secondary" type="button" onclick="cambiarPregunta()">
          Cambiar Contexto
        </button>
      </div>
      <button class="start-close" type="button" onclick="cerrarPregunta()">Volver</button>
    </div>
  </div>

  <div class="record-overlay hidden-by-default" id="recordOverlay">
    <div class="record-card">
      <div class="record-anim">
        <div class="pulse-ring mic">üé§</div>
        <div class="processing-icon hidden-by-default">‚è≥</div>
      </div>
      <div id="cronometro">00:00</div>
      <p id="estado-texto">Capturando audio de la reuni√≥n...</p>
      
      <div class="record-actions-grabando">
        <button class="btn primary btn-parar" onclick="pararGrabacion()">
          Detener y procesar
        </button>
      </div>

      <div class="record-actions-final hidden-by-default">
        <button class="btn primary" onclick="grabarOtroRecuerdo()">Nuevo Briefing</button>
        <button class="btn secondary" onclick="irAListaRecuerdos()">Ver Historial</button>
      </div>
    </div>
  </div>

  <div class="memories-overlay hidden-by-default" id="memoriesOverlay">
    <div class="memories-card">
      <h2>Historial de Briefings</h2>
      <div class="search-container">
          <input type="text" id="searchInput" placeholder="Buscar briefing..." onkeyup="buscarRecuerdos(this.value)">
      </div>
      
      <div id="memoriesList" class="memories-list"></div>
      
      <button class="memories-back-fixed" onclick="cerrarRecuerdos()">‚Üê Cerrar</button>
    </div>
  </div>

  <div class="memory-detail-overlay hidden-by-default" id="memoryDetailOverlay">
    <div class="memory-detail-card">
      <div class="card-header-fixed">
        <div class="title-row">
          <h2 id="memoryDetailTitle">Detalle del Briefing</h2>
        </div>
        <span id="memoryDetailDate">Fecha de la sesi√≥n</span>
      </div>
      
      <div class="card-body-scroll">
        <div id="memoryDetailText">Analizando puntos clave...</div>
        
        <div id="premiumActions" class="hidden-by-default">
          <button id="btnTranscribe" class="btn-magic" onclick="ejecutarTranscripcionReal()">
            <span class="magic-title">Generar Acta con IA</span>
          </button>
        </div>

        <div class="memory-audio hidden-by-default" id="memoryAudioWrapper">
          <audio id="memoryAudio" controls></audio>
        </div>
      </div>

      <div class="card-footer-fixed">
        <button class="btn secondary full-width" onclick="cerrarRecuerdo()">Volver al Historial</button>
      </div>
    </div>
  </div>

  <div id="appMessage" class="app-message"></div>

  <script src="script.js"></script>
</body>
</html>